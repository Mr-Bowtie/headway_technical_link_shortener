<div class='container is-max-widescreen'>
  <div class="columns is-centered is-vcentered">
    <div class="column is-two-thirds ">
      <h1 class="title">Headway Link Shortener</h1>
      <% if flash[:notice] %>
        <p class="notification is-success"><%= notice %></p>
      <% end %>
      <% if flash[:alert] %>
        <p class="notification is-error"><%= alert %></p>
      <% end %>
      <section id='form' class='section is-flex is-justify-content-center has-background-grey-lighter'>

        <%= form_with url: '/links', :method => "post" do |f| %>
          <div class="columns is-vcentered">
            <div class="column is-one-third">
              <div class="field">
                <div class="control">
                  <%= f.text_field "link[url]", placeholder: "URL to shorten" %>
                </div>
              </div>
            </div>
            <div class="column is-one-third">
              <div class="field is-grouped">
                <div class="control">
                  <%= f.text_field "link[slug]", placeholder: "Custom slug" %>
                </div>
              </div>
            </div>
            <div class='column is-one-third'>
              <div>
                <%= f.submit "generate shortened Link", class: "button is-info" %>
              </div>
            </div>
          </div>
        <% end %>
      </section>
    </div>
  </div>

  <div class="columns is-centered">
    <div class="column is-two-thirds ">
      <section id="links" class="section is-flex is-justify-content-center">
        <div id="links">
          <% @links.each do |link| %>
            <p><%= link.url %> -> <%= link_to link.short_link, link.url, target: "_blank" %></p>
          <% end %>
        </div>
      </section>
    </div>
  </div>
</div>
